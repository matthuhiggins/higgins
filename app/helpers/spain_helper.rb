# encoding: UTF-8

module SpainHelper
  SPAIN_CAPTIONS = {
    '2012-08-16_00.17.25.jpg' => "We just landed in Barcelona!",
    '2012-08-16_09.30.40.jpg' => "What are we going to do now that we're here?",
    '2012-08-16_09.31.42.jpg' => "The living room of our AirBnB place",
    '2012-08-16_10.06.14.jpg' => "Roooaaar",
    '2012-08-16_10.09.19.jpg' => "Brigitte gets close to a street performer on Las Ramblas",
    '2012-08-16_10.10.11.jpg' => "That's no statue, that's a man",
    '2012-08-16_10.18.21.jpg' => "Some courtyard where unemployed catalonians hang out",
    '2012-08-16_10.24.15.jpg' => "Can you tell if she's a tourist?",
    '2012-08-16_10.42.08.jpg' => "Fountains, etc",
    '2012-08-16_11.07.57.jpg' => "It's an old church",
    '2012-08-16_12.07.57.jpg' => "Cappuccinos after dinner at Pla",
    '2012-08-16_19.13.41.jpg' => "Playing the guitar in Spain doesn't make it a Spainish guitar",
    
    '2012-08-17_04.16.41.jpg' => "They called her the white wonder",
    '2012-08-17_04.36.17.jpg' => "A busy day on the Barcelona beach",
    '2012-08-17_06.29.39.jpg' => "Local lobster art",
    '2012-08-17_09.46.18.jpg' => "Almost every restaurant in southern Spain looks like this",
    '2012-08-17_10.13.44.jpg' => "Taking the subway to Park Guell",
    '2012-08-17_10.29.44.jpg' => "Outdoor escalators",
    '2012-08-17_10.41.51.jpg' => "Our clothes are soaking in sweat",
    '2012-08-17_10.42.06.jpg' => "At the top of Park Guell",
    '2012-08-17_10.43.55.jpg' => "We lied earlier, this is the real top of Park Guell",
    '2012-08-17_10.51.18.jpg' => "Brigitte fishes for coins to use the water closet",
    '2012-08-17_11.08.48.jpg' => "Gaudi's fine mosaic tilework",
    '2012-08-17_11.12.44.jpg' => "Things get serious",
    '2012-08-17_11.16.56.jpg' => "Matt's shirt is 100% humidity",
    '2012-08-17_12.39.06.jpg' => "En la Fiesta de Gracia. Almost no tourists here",
    '2012-08-17_13.00.13.jpg' => "Every block had a different theme",
    '2012-08-17_13.10.37.jpg' => "Behold the wonder of fake jellyfish",
    '2012-08-17_13.15.16.jpg' => "We are under the sea",
    '2012-08-17_13.40.50.jpg' => "Looking up some skirts",
    '2012-08-17_13.43.31.jpg' => "And we're back in America",
    '2012-08-17_16.48.29.jpg' => "Capping off the night with a Spainish coffee",
    
    '2012-08-18_04.31.57.jpg' => "They began constructing La Sagrada Familia in 1882. It's still not done.",
    '2012-08-18_04.55.10.jpg' => "Behold La Sagrada Familia",
    '2012-08-18_06.00.41.jpg' => "Casa Batllo, a house designed by Gaudi, uses this light well to get light to all floors",
    '2012-08-18_06.50.32.jpg' => "We hopped on a tourist bus to pound out the remaining unseen sights",
    '2012-08-18_06.58.53.jpg' => "And discarded our headphones like everyone else",
    '2012-08-18_06.59.52.jpg' => "This is how to remain seated",
    '2012-08-18_07.28.01.jpg' => "This is where the 1992 Barcelona Olympics were held",
    '2012-08-18_07.44.37.jpg' => "Matt was obsessed with the communication tower",
    '2012-08-18_07.52.39.jpg' => "Matt becomes one with the communication tower",
    
    '2012-08-19_05.21.26.jpg' => "Our terribly underpowered rental car",
    '2012-08-19_06.07.10.jpg' => "Brigitte can't behave herself",
    '2012-08-19_07.37.46.jpg' => "City of Arts and Sciences",
    '2012-08-19_07.45.19.jpg' => "Doing arts and science stuff at the City of Arts and Sciences",
    '2012-08-19_07.57.14.jpg' => "This looks like the thing that came out of the ground in Aliens",
    '2012-08-19_12.01.54.jpg' => "Relaxing after a hard day of doing arts and science",
    '2012-08-20_02.16.48.jpg' => "This bidet got a little too much attention",
    '2012-08-20_03.12.27.jpg' => "Chilling on the rocky beach in Altea. Tomorrow, we ride bikes to the top of the mountain behind me",
    '2012-08-20_03.12.33.jpg' => "Not a hard life out here",

    '2012-08-20_06.10.25.jpg' => "Time for a bike ride!",
    '2012-08-20_06.14.35.jpg' => "Rocks and ocean",
    '2012-08-20_06.25.02.jpg' => "Matt made Brigitte retake this shot 3 times until she nailed it",
    '2012-08-20_07.11.53.jpg' => "Ahoy from the tunnel",
    '2012-08-20_07.14.21.jpg' => "Almost to the lighthouse",
    '2012-08-20_07.14.53.jpg' => "Rich people sail to Altea rather than drive",
    '2012-08-20_08.40.21.jpg' => "A platter of BBQ meat. Very American of us",
    '2012-08-20_09.19.26.jpg' => "Brigitte shows off her bike skills",
    '2012-08-20_09.37.31.jpg' => "Matt is making progress on his tan",
    '2012-08-21_02.23.00.jpg' => "In the town of Altea",
    '2012-08-21_02.25.18.jpg' => "Heading to La Mare de Déu del Consol",
    '2012-08-21_02.28.23.jpg' => "Brigitte found the way in",
    '2012-08-21_02.35.48.jpg' => "At the top of Altea",

    '2012-08-21_05.49.04.jpg' => "Feeding time",
    '2012-08-21_08.01.03.jpg' => "The lavandaria folded our underwear in cute little squares",
    '2012-08-21_08.07.49.jpg' => "Getting freaky on hotel roof",
    '2012-08-21_10.42.59.jpg' => "Friar Luis was a good man",
    '2012-08-21_10.50.39.jpg' => "Uuhh Matt needs to stop acting like a child",
    '2012-08-21_11.04.47.jpg' => "The picturesque Darro river",
    '2012-08-21_11.27.37.jpg' => "Amazing views of the Alhambra from Plaza de San Nicolas",
    '2012-08-21_12.09.27.jpg' => "Views are better with a sangria",
    '2012-08-21_13.59.34.jpg' => "Nightlife in Granada",

    '2012-08-21_23.28.26.jpg' => "Entering the mighty Alhambra",
    '2012-08-21_23.34.45.jpg' => "Well pruned shrubbery",
    '2012-08-21_23.54.08.jpg' => "Patio de los Arrayanes in Alhambra",
    '2012-08-21_23.55.18.jpg' => "Amazingly detailed wall panelling",
    '2012-08-22_00.19.23.jpg' => "Every fountain needs some lions",
    '2012-08-22_00.47.34.jpg' => "I claim this land for Napolean!",
    '2012-08-22_00.59.06.jpg' => "Brigitte finds solace on the ramparts of the Alhambra",
    '2012-08-22_01.49.51.jpg' => "Brigitte thought this was a single lane lap swimming pool",
    '2012-08-22_10.28.24.jpg' => "Don't worry, they have Monster energy drinks in there",
    '2012-08-22_11.33.47.jpg' => "Brigitte finds a loving gato",

    '2012-08-23_03.19.27.jpg' => "Goats on the road",
    '2012-08-23_03.36.38.jpg' => "The roads to the castle at the top are very steep",
    '2012-08-23_03.37.38.jpg' => "At the top of Salobreña",
    '2012-08-23_03.43.43.jpg' => "Brigitte presents the view",
    '2012-08-23_03.46.42.jpg' => "Greetings from Spain",
    '2012-08-23_03.49.17.jpg' => "Not a bad view",
    '2012-08-23_05.20.56.jpg' => "Our deck in Nerja",
    '2012-08-23_09.43.06.jpg' => "Matt's favorite spot in Nerja",
    '2012-08-23_09.43.14.jpg' => "Brigitte was skeptical of El Balcon",
    '2012-08-23_09.46.35.jpg' => "We made it",
    '2012-08-23_09.49.39.jpg' => "Brigitte is pleased with El Balcon de Europa",
    '2012-08-23_11.12.19.jpg' => "America needs more Discotecas",

    '2012-08-24_10.50.01.jpg' => "The nearby kids were confused by Matt's behavior",
    '2012-08-24_10.52.22.jpg' => "Pumped about the train",
    '2012-08-24_11.08.30.jpg' => "Brigitte immediately loses interest in the train",
    '2012-08-24_11.09.25.jpg' => "Hold on to your horses!",
    '2012-08-24_11.31.33.jpg' => "Looking good",
    '2012-08-26_01.43.28.jpg' => "Cafe con leche & pastries on a daily basis can't be a good diet",
    '2012-08-26_02.58.43.jpg' => "Aqueduct of Nerja",
    '2012-08-26_03.07.31.jpg' => "Going into the caves",
    '2012-08-26_03.08.39.jpg' => "Looking at pictures of the caves",
    '2012-08-26_03.16.02.jpg' => "This would make for a great hideout",
    '2012-08-26_04.47.59.jpg' => "Beach time",
    '2012-08-26_11.31.08.jpg' => "¿Cuántos gatos están aquí?",
    '2012-08-26_11.43.36.jpg' => "A restaurant on the rocks",
    '2012-08-26_11.52.49.jpg' => "Brigitte looking beautiful",
    '2012-08-26_11.55.08.jpg' => "Matt's happy because he got a beer",
    '2012-08-26_13.24.45.jpg' => "Matt's happy because he got a piña colada",

    '2012-08-27_04.15.22.jpg' => "On the road to Ronda",
    '2012-08-27_05.56.26.jpg' => "We made it",
    '2012-08-27_05.58.12.jpg' => "Outside the bullfighting arena",
    '2012-08-27_06.01.37.jpg' => "Musicians under the gazebo",
    '2012-08-27_06.01.54.jpg' => "Brigitte surveys the land",
    '2012-08-27_06.03.04.jpg' => "What a great view!",
    '2012-08-27_06.05.03.jpg' => "Matt made Brigitte ask Spaniards to take our picture. Always worth it",
    '2012-08-27_06.09.06.jpg' => "Don't fall!",
    '2012-08-27_06.10.30.jpg' => "They kept prisoners inside the bridge",
    '2012-08-27_06.12.52.jpg' => "OMG!!",
    '2012-08-27_06.29.43.jpg' => "We found a trail to the base of the bridge",
    '2012-08-27_06.31.56.jpg' => "The bridge is taller than Matt",
    '2012-08-27_06.39.32.jpg' => "Redirecting water to the farms",
    '2012-08-27_06.43.39.jpg' => "Spain has a great recycling program",
    '2012-08-27_06.51.11.jpg' => "A tile map of Ronda",
    '2012-08-27_07.10.34.jpg' => "Brigitte goes nuts for tapas",
    '2012-08-27_07.46.08.jpg' => "Lovers in the park",
    '2012-08-27_07.52.11.jpg' => "Brigitte is in heaven",
    '2012-08-27_11.51.00.jpg' => "Bÿou Brigitte",
    '2012-08-27_11.58.24.jpg' => "An evening stroll",
    '2012-08-27_14.14.44.jpg' => "Matt finally found a good beer",
    '2012-08-27_14.52.41.jpg' => "Brigitte spent 4% of the trip organizing and hoarding her coins",

    '2012-08-28_02.31.23.jpg' => "Cafe con leche, every day",
    '2012-08-28_03.11.35.jpg' => "This bull is fake, but at least it's full of sangria",
    '2012-08-28_03.15.34.jpg' => "The bull gores Matt",
    '2012-08-28_03.21.24.jpg' => "Brigitte presents the arena",
    '2012-08-28_03.54.56.jpg' => "We bought one of his paintings",
    '2012-08-28_03.59.36.jpg' => "More lions and fountains",
    '2012-08-28_04.04.12.jpg' => "A chinese restaurant named Hola",
    '2012-08-28_04.45.01.jpg' => "The balloon man. Every town needs one.",
    '2012-08-28_04.49.49.jpg' => "Churro con chocolate is delicious",
    '2012-08-28_05.45.50.jpg' => "A battlement featuring a turret with crenellations",
    '2012-08-28_05.47.51.jpg' => "Brigitte takes advantage of her high ground",
    '2012-08-28_05.50.02.jpg' => "Matt, enjoying himself as always",
    '2012-08-28_05.52.58.jpg' => "More old stuff",
    '2012-08-28_06.00.41.jpg' => "Horses galloping in Spainish fields",
    '2012-08-28_06.01.23.jpg' => "Strolling about the countryside",
    '2012-08-28_06.10.14.jpg' => "Disrespecting the architecture in the bathhouse",
    '2012-08-28_06.11.17.jpg' => "The arab bathhouse",
    '2012-08-28_10.07.21.jpg' => "Brigitte enjoys her view of Puente Nuevo",

    '2012-08-29_02.27.54.jpg' => "Our car needed a wash",
    '2012-08-29_05.10.31.jpg' => "In the Arab Bathhouse",
    '2012-08-29_12.10.31.jpg' => "Walking to downtown Sevilla",
    '2012-08-29_12.31.53.jpg' => "The big Sevilla Cathedral behind us",
    '2012-08-29_12.34.10.jpg' => "Brigitte is the same color as the Cathedral",
    '2012-08-29_12.43.09.jpg' => "Lots of horses",
    '2012-08-29_13.09.10.jpg' => "A performer makes patrons nervous by singing Bob Marley",
    '2012-08-29_13.31.37.jpg' => "Some very tastey food at Vineria el Telmo",
    '2012-08-30_02.28.47.jpg' => "A genie man hovers with his magical staff",
    '2012-08-30_02.36.43.jpg' => "River Guadalquivir",
    '2012-08-30_02.49.37.jpg' => "This tree has a big trunk",
    '2012-08-30_02.52.35.jpg' => "La Plaza de Espana",
    '2012-08-30_02.56.30.jpg' => "If you go to Spain, you're guaranteed to see fountains and plazas",
    '2012-08-30_03.09.35.jpg' => "People boating around the plaza",

    '2012-08-30_07.00.12.jpg' => "Do you recognize this from high school art class?",
    '2012-08-30_07.01.58.jpg' => "Relaxing in the Mezquita",
    '2012-08-30_07.17.33.jpg' => "That's a nice organ you have there",
    '2012-08-30_11.16.02.jpg' => "The tower of the mosque before dusk",
    '2012-08-30_13.54.58.jpg' => "A relaxing night cap",
    '2012-08-30_14.17.34.jpg' => "A giant man lives in this house",

    '2012-08-31_05.23.13.jpg' => "Good luck navigating without a GPS",
    '2012-08-31_07.12.17.jpg' => "Hostal Andorra, our final stop",
    '2012-08-31_08.12.47.jpg' => "Outdoor library",
    '2012-08-31_08.13.16.jpg' => "Partiers come here after a long night at the discoteca",
    '2012-08-31_08.58.19.jpg' => "A long line for free entry to Museo del Prado",
    '2012-08-31_10.27.56.jpg' => "Some kind of soccer celebration",
    '2012-08-31_11.27.56.jpg' => "Watching soccer at dinner",
    '2012-08-31_12.27.56.jpg' => "At Cuevas de Sesamo, where only sangrias are served",
    '2012-08-31_13.27.56.jpg' => "¡Discoteca!",
    '2012-08-31_13.28.56.jpg' => "In el club!",
    '2012-08-31_14.28.56.jpg' => "Chocolate and churros is magical",
    '2012-08-31_23.01.44.jpg' => "No sleep, time to go home",
    '2012-09-01_00.34.01.jpg' => "Peace out Espana!",
    '2012-09-01_01.32.10.jpg' => "Brigitte inflates her airplane pillow",
  }

  def spain_images(folder)
    Dir[Rails.root.join('app/assets/images/spain').join("#{folder}/*.jpg").to_s].map { |src| File.basename(src) }.sort
  end

  def spain_image(folder, src)
    Rails.logger.info "#{folder}/#{src}"
    link_to image_path("spain/#{folder}/#{src}"), rel: "lightbox[#{folder}]", title: SPAIN_CAPTIONS[src] do
      image_tag "spain/thumbs/#{folder}/#{src}", height: 60
      # image_tag "spain/thumbnail/#{folder}/#{src}", height: '60'
    end
  end
end

# root_path = Rails.root.join('app/assets/images/spain').to_s
# Dir["#{root_path}/**/*.jpg"].map do |orig|
#   next if orig =~ /thumbs/
#   
#   thumb_path = orig.gsub(root_path, "#{root_path}/thumbs")
#   FileUtils.mkdir_p(File.dirname(thumb_path))
#   # `convert --scale 25% #{orig} #{thumb_path}`
#   cmd = "convert #{orig} -thumbnail 100x100^ -gravity center -extent 60x60 #{thumb_path}"
#   p cmd
#   `#{cmd}`
# end.size
